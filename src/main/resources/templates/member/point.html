<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head::head(~{::title})">
    <title>배달의 민족 | 배민포인트</title>
</head>
<body>
<header th:replace="fragments/loginHeader::loginHeader"></header>
<div th:replace="fragments/notifications::notifications(${notifications})"></div>

<article>
    <div class="container px-4 py-5">
        <div>
            <!-- top info -->
            <section>
                <div class="container text-center">
                    <div class="row bg-main text-white" style="">
                        <div class="col-sm-2 align-self-center fs-1 bg-main">
                            MY배민
                        </div>
                        <div class="col border-start">
                            <div class="row align-self-center text-start p-2">
                                <div class="col fs-5">
                                    회원등급
                                </div>
                            </div>
                            <div class="row align-self-center fs-1 ps-3">
                                <div class="col text-end" th:text="${loginMember.grade}">
                                    VIP
                                </div>
                            </div>
                        </div>
                        <div class="col border-start">
                            <div class="row align-self-center text-start p-2">
                                <div class="col fs-5">
                                    할인쿠폰
                                </div>
                            </div>
                            <div class="row align-self-center fs-1 ps-3">
                                <div class="col text-end">
                                    0장
                                </div>
                            </div>
                        </div>
                        <div class="col border-start">
                            <div class="row align-self-center text-start p-2">
                                <div class="col fs-5">
                                    리뷰작성
                                </div>
                            </div>
                            <div class="row align-self-center fs-1 ps-3">
                                <div class="col text-end">
                                    0개
                                </div>
                            </div>
                        </div>
                        <div class="col border-start">
                            <div class="row border-bottom h-50">
                                <div class="col-sm-4 align-self-center text-start fs-5">
                                    포인트
                                </div>
                                <div class="col align-self-center text-end">
                                    500,000 원
                                </div>
                            </div>
                            <div class="row h-50">
                                <div class="col-sm-4 align-self-center text-start fs-5">
                                    페이
                                </div>
                                <div class="col align-self-center text-end">
                                    500,000 원
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section>
                <div class="container text-center">
                    <!-- sidebar start -->
                    <div class="row">
                        <div class="col-sm-2 border text-start bg-secondary bg-opacity-10" style="height: 500px;">
                            <nav class="nav flex-column mt-4">
                                <div class="border-bottom">
                                    <label class="nav-link text-dark">MY 배달</label>
                                    <a class="nav-link" aria-current="page" href="/orders">주문내역</a>
                                </div>
                                <div class="border-bottom">
                                    <label class="nav-link text-dark">MY 혜택</label>
                                    <a class="nav-link" aria-current="page" href="#">포인트</a>
                                    <a class="nav-link" aria-current="page" href="#">쿠폰함</a>
                                </div>
                                <div class="border-bottom">
                                    <label class="nav-link text-dark">MY 활동</label>
                                    <a class="nav-link" aria-current="page" href="#">리뷰관리</a>
                                    <a class="nav-link" aria-current="page" href="#">찜 리스트</a>
                                </div>
                                <div>
                                    <label class="nav-link text-dark">MY 정보</label>
                                    <a class="nav-link" aria-current="page" href="#">개인정보확인/수정</a>
                                    <a class="nav-link" aria-current="page" href="/pay">페이</a>
                                </div>
                            </nav>
                        </div>
                        <!-- sidebar end -->
                        <div class="col text-start">
                            <div class="m-4">
                                <div class="row mb-1">
                                    <div class="col">
                                        <h2>포인트</h2>
                                    </div>
                                    <div class="col text-end align-self-center">
                                        <button type="button" class="btn btn-outline-primary" onclick="beforeService()">+ 상품권 등록</button>
                                    </div>
                                </div>
                                <div class="row bg-secondary border" style="--bs-bg-opacity: .1;">
                                    <div class="col border-end">
                                        <div class="row">
                                            <div class="col p-4 fs-4">
                                                사용가능 포인트
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col text-center fs-1 p-4" th:text="|${point.totalPoint}원|">
                                                500,000원
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="row h-50 border-bottom">
                                            <div class="col align-self-center fs-4 ms-3">
                                                소멸 예정 포인트
                                            </div>
                                            <div class="col text-end align-self-center fs-4 me-3" th:text="|${point.removePoint}원|">
                                                10,000원
                                            </div>
                                        </div>
                                        <div class="row h-50">
                                            <div class="col align-self-center fs-4 ms-3">
                                                예치금
                                            </div>
                                            <div class="col text-end align-self-center fs-4 me-3" th:text="|${point.balance}원|">
                                                0원
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <form class="m-4">
                                <div class="row justify-content-end">
                                    <div class="col-md-2">
                                        <select class="form-select" aria-label="Default select example" name="d">
                                            <option value="1">전체</option>
                                            <option value="2">적립</option>
                                            <option value="3">사용</option>
                                            <option value="4">전환</option>
                                            <option value="5">만료</option>
                                        </select>
                                    </div>
                                    <div class="col-md-2">
                                        <select class="form-select" aria-label="Default select example" name="w">
                                            <option value="1">1개월</option>
                                            <option value="3">3개월</option>
                                            <option value="6">6개월</option>
                                            <option value="12">12개월</option>
                                        </select>
                                    </div>
                                    <div class="col-md-1">
                                        <button class="btn btn-outline-secondary" type="submit" id="button-addon2">
                                            <img th:src="@{/icon/search.svg}" alt="검색 아이콘">
                                        </button>
                                    </div>
                                </div>
                                <table class="table text-center mt-3">
                                    <thead>
                                    <tr>
                                        <th scope="col">내역</th>
                                        <th scope="col">적립일</th>
                                        <th scope="col">포인트</th>
                                        <th scope="col">사용여부</th>
                                    </tr>
                                    </thead>
                                    <tbody class="table-group-divider">
                                    <tr th:each="pointHistory:${pointHistories}">
                                        <th scope="row" class="fw-bold" th:text="${pointHistory.content}">BBQ XX점</th>
                                        <td th:text="${pointHistory.createdDate}">2022.07.26</td>
                                        <td th:text="${pointHistory.pointValue}">+50원</td>
                                        <td class="fw-bold" th:text="${pointHistory.type}">적립</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</article>

<footer th:replace="fragments/footer::footer"></footer>
</body>

</html>