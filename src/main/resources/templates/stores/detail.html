<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head::head(~{::title})">
    <title>배달의 민족</title>
</head>
<body>
<header th:replace="fragments/loginHeader::loginHeader"></header>
<section th:replace="fragments/notifications::notifications(${notifications})"></section>
<section th:replace="stores/fragments/basket::basket(${basket}, ${basketMenus})"></section>

<div onclick="scrollToTop()" id="top-btn" style="position: fixed; cursor: pointer;" class="border bottom-0 end-0 m-4 p-2">top</div>
<article>
    <div class="container px-4 py-5">
        <div class="row pb-3">
            <!-- main img start -->
            <div class="col-lg-7 h-50">
                <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="true">
                    <div class="carousel-indicators">
                        <th:block th:each="storeImage : ${storeImages}">
                            <button th:if="${storeImageStat.first}" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                            <button th:unless="${storeImageStat.first}" type="button" data-bs-target="#carouselExampleIndicators" th:data-bs-slide-to="${storeImageStat.index}" aria-label="Slide 2"></button>
                        </th:block>
                    </div>
                    <div class="carousel-inner">
                        <th:block th:each="storeImage : ${storeImages}">
                            <div th:if="${storeImageStat.first}" class="carousel-item active">
                                <img src="/file/test/bbq/store_detail_01.png" th:src="${storeImage.uploadFile.storeFileName}" class="d-block w-100" alt="store img 1" style="height: 400px;">
                            </div>
                            <div th:unless="${storeImageStat.first}" class="carousel-item">
                                <img src="/file/test/bbq/store_detail_02.png" th:src="${storeImage.uploadFile.storeFileName}" class="d-block w-100" alt="store img 2" style="height: 400px;">
                            </div>
                        </th:block>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>
            <div class="col">
                <!-- store information start -->
                <div class="card text-center mb-3">
                    <div class="card-body">
                        <div class="row h-25">
                            <div class="col fs-1 align-self-center" th:text="${store.storeName}">
                                store name
                            </div>
                        </div>
                        <div class="row h-25">
                            <div class="col fs-2 align-self-center" th:object="${store}">
                                <span>
                                    <svg th:if="*{rating == 0}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star text-warning" viewBox="0 0 16 16">
                                        <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                    </svg>
                                    <svg th:if="*{0 < rating and rating <= 0.5}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star-half text-warning" viewBox="0 0 16 16">
                                        <path d="M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z"/>
                                    </svg>
                                    <svg th:if="*{0.5 < rating}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star-fill text-warning" viewBox="0 0 16 16">
                                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                    </svg>
                                </span>
                                <span>
                                    <svg th:if="*{rating <= 1}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star text-warning" viewBox="0 0 16 16">
                                        <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                    </svg>
                                    <svg th:if="*{1 < rating and rating <= 1.5}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star-half text-warning" viewBox="0 0 16 16">
                                        <path d="M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z"/>
                                    </svg>
                                    <svg th:if="*{1.5 < rating}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star-fill text-warning" viewBox="0 0 16 16">
                                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                    </svg>
                                </span>
                                <span>
                                    <svg th:if="*{rating <= 2}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star text-warning" viewBox="0 0 16 16">
                                        <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                    </svg>
                                    <svg th:if="*{2 < rating and rating <= 2.5}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star-half text-warning" viewBox="0 0 16 16">
                                        <path d="M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z"/>
                                    </svg>
                                    <svg th:if="*{2.5 < rating}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star-fill text-warning" viewBox="0 0 16 16">
                                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                    </svg>
                                </span>
                                <span>
                                    <svg th:if="*{rating <= 3}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star text-warning" viewBox="0 0 16 16">
                                        <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                    </svg>
                                    <svg th:if="*{3 < rating and rating <= 3.5}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star-half text-warning" viewBox="0 0 16 16">
                                        <path d="M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z"/>
                                    </svg>
                                    <svg th:if="*{3.5 < rating}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star-fill text-warning" viewBox="0 0 16 16">
                                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                    </svg>
                                </span>
                                <span>
                                    <svg th:if="*{rating <= 4}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star text-warning" viewBox="0 0 16 16">
                                        <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                    </svg>
                                    <svg th:if="*{4 < rating and rating <= 4.5}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star-half text-warning" viewBox="0 0 16 16">
                                        <path d="M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z"/>
                                    </svg>
                                    <svg th:if="*{4.5 < rating}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star-fill text-warning" viewBox="0 0 16 16">
                                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                    </svg>
                                </span>
                                <span th:text="*{#numbers.formatDecimal(rating, 1, 1)}">4.9</span>
                            </div>
                        </div>
                        <div class="row text-muted">
                            <div class="col fs-6 text-end border-end" th:text="|최근리뷰 ${store.reviewCount}|">
                                최근리뷰 123
                            </div>
                            <div class="col fs-6 text-start" th:text="|최근사장님댓글 ${store.commentCount}|">
                                최근사장님댓글 123
                            </div>
                        </div>
                        <div class="row h-25 mt-3 mb-3">
                            <div class="col align-self-center">
                                <button id="button-tel" type="button" class="btn btn-outline-dark w-75">
                                    <img src="/icon/telephone.svg" alt="telephone">
                                    <span>전화</span>
                                </button>
                            </div>
                            <div class="col align-self-center">
                                <button type="button" class="btn btn-outline-dark w-75" th:onclick="'javascript:addBookmark('+${store.id}+')'">
                                    <img src="/icon/heart.svg" alt="heart">
                                    <span>찜</span>
                                    <span th:text="${store.bookmarkCount}">9,999</span>
                                </button>
                            </div>
                            <div class="col align-self-center">
                                <button type="button" class="btn btn-outline-dark w-75">
                                    <img src="/icon/share.svg" alt="share">
                                    <span>공유</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- main img end -->
                <!-- store detail information start -->
                <nav>
                    <div class="nav nav-tabs" id="nav-tab" role="tablist">
                        <button class="nav-link w-50 active" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home" type="button" role="tab" aria-controls="nav-home" aria-selected="true">배달주문</button>
                        <button class="nav-link w-50" id="nav-profile-tab" data-bs-toggle="tab" data-bs-target="#nav-profile" type="button" role="tab" aria-controls="nav-profile" aria-selected="false">포장/방문주문</button>
                    </div>
                </nav>
                <div class="tab-content m-2 ps-2" id="nav-tabContent">
                    <!-- 배달주문 -->
                    <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab" tabindex="0">
                        <table class="table table-sm table-borderless">
                            <tbody>
                            <tr>
                                <td>최소주문금액</td>
                                <td th:text="|${#numbers.formatInteger(store.deliveryInfo.minOrderPrice, 0, 'COMMA')}원|"></td>
                            </tr>
                            <tr>
                                <td>결제방법</td>
                                <td th:text="${store.tradeName}"></td>
                            </tr>
                            <tr>
                                <td>배달시간</td>
                                <td th:text="${store.deliveryInfo.deliveryTime}"></td>
                            </tr>
                            <tr>
                                <td>배달팁</td>
                                <td>
                                    <span th:text="|${#numbers.formatInteger(minDeliveryTip, 0, 'COMMA')}원| + ' ~ ' + |${#numbers.formatInteger(maxDeliveryTip, 0, 'COMMA')}원|"></span>
                                    <span class="badge rounded-pill text-bg-secondary" data-bs-toggle="modal" data-bs-target="#deliveryTipModal">자세히</span>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- 포장/방문주문 -->
                    <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab" tabindex="0">
                        <table class="table table-sm table-borderless">
                            <tbody>
                            <tr>
                                <td>최소주문금액</td>
                                <td th:if="${store.packingInfo.minOrderPrice} == 0 ? '없음' : ${#numbers.formatInteger(store.packingInfo.minOrderPrice, 0, 'COMMA')} + '원'">없음</td>
                            </tr>
                            <tr>
                                <td>이용방법</td>
                                <td>포장</td>
                            </tr>
                            <tr>
                                <td>픽업시간</td>
                                <td th:text="${store.packingInfo.pickUpTime}">17~27분 소요 예상</td>
                            </tr>
                            <tr>
                                <td>위치안내</td>
                                <td th:text="|${store.businessAddress.mainAddress} ${store.businessAddress.detailAddress}|">인천광역시 남동구 간석동 303-11 1층 일부호(간석동)</td>
                            </tr>
                            <tr>
                                <td>결제방법</td>
                                <td>바로결제</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- store detail information end -->
            </div>
            <!-- store information end -->
        </div>

        <!-- menu information start -->
        <nav>
            <div class="nav nav-tabs" id="nav-tab-menu" role="tablist">
                <button class="nav-link w-25 active" id="nav-home-tab-menu" data-bs-toggle="tab" data-bs-target="#nav-home-menu" type="button" role="tab" aria-controls="nav-home" aria-selected="true">메뉴</button>
                <button class="nav-link w-25" id="nav-profile-tab-menu" data-bs-toggle="tab" data-bs-target="#nav-profile-menu" type="button" role="tab" aria-controls="nav-profile" aria-selected="false">정보</button>
                <button class="nav-link w-25" id="nav-contact-tab-menu" data-bs-toggle="tab" data-bs-target="#nav-contact-menu" type="button" role="tab" aria-controls="nav-contact" aria-selected="false">리뷰</button>
            </div>
        </nav>
        <div class="tab-content mt-3" id="nav-tabContent-menu">
            <div class="tab-pane fade show active" id="nav-home-menu" role="tabpanel" aria-labelledby="nav-home-tab" tabindex="0">
                <!-- 대표 메뉴 -->
                <div class="card mb-3">
                    <div class="card-body">
                        <h3 class="card-title text-center mb-3">*** 대표 메뉴 ***</h3>
                        <div class="row row-cols-1 row-cols-md-2 g-4">
                            <th:block th:each="menu : ${menus}" th:if="${menu.representativeMenu}">
                                <div class="col">
                                    <div class="card" style="cursor: pointer" data-bs-toggle="modal" th:data-bs-target="'#menuDetail' + ${menu.id}">
                                        <div class="card-body">
                                            <div class="row h-100">
                                                <div class="col position-relative">
                                                    <h5 class="card-title">
                                                        <span th:if="${menu.bestMenu}" class="badge rounded-pill text-bg-info me-1">인기</span><span th:text="${menu.mainTitle}">핫 황금올리브 핫크리스피</span>
                                                    </h5>
                                                    <h6 class="card-subtitle mb-2 text-muted" th:if="${menu.subTitle} != null" th:text="${menu.subTitle}"></h6>
                                                    <ul style="list-style: none; padding-left: 0;">
                                                        <li th:each="menuOption : ${menuOptions}" th:if="${menuOption.menu.id} == ${menu.id}">
                                                            <span th:if="${menuOption.optionName}!=null" th:text="${menuOption.optionName} + ':'"></span><span th:text="|${#numbers.formatInteger(menuOption.price, 0, 'COMMA')}원|"></span>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="col-sm-3 align-self-center" th:if="${menu.uploadFile} != null">
                                                    <img src="https://via.placeholder.com/125x125" th:src="${menu.uploadFile.storeFileName}" alt="menu img" style="width: 125px; height: 125px;">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Modal -->
                                <div class="modal fade" th:id="'menuDetail' + ${menu.id}" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                                    <div class="modal-dialog modal-dialog-scrollable">
                                        <form class="modal-content" method="post" th:action="@{/stores/{storeId}/basket(storeId=${store.id})}" th:object="${basketAddForm}">
                                            <div class="modal-header">
                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <img src="https://via.placeholder.com/500x250" th:src="${menu.uploadFile.storeFileName}" alt="menu img" class="w-100 h-25">
                                                <div class="card mt-3">
                                                    <div class="card-body text-center">
                                                        <h4 th:text="${menu.mainTitle}">핫 황금올리브 핫크리스피</h4>
                                                        <h6 th:text="${menu.introduction}">핫 하고 빠삭한 핫빠 크리스피</h6>
                                                    </div>
                                                </div>
                                                <!-- 메인 선택 -->
                                                <div class="card mt-3">
                                                    <div class="card-body">
                                                        <h4>가격</h4>
                                                        <div class="form-check mt-3"  th:each="menuOption : ${menuOptions}" th:if="${menuOption.menu.id} == ${menu.id}">
                                                            <input class="form-check-input" type="radio" name="flexRadioDefault" id="selectMain1" th:id="|${menu.id}selectMenuOption${menuOptionStat.index}|">
                                                            <label class="form-check-label w-100" for="selectMain1" th:for="|${menu.id}selectMenuOption${menuOptionStat.index}|"
                                                                   th:field="*{menuOptionId}" th:value="${menuOption.id}">
                                                                <div class="row">
                                                                    <div class="col text-start fw-bold" th:if="${menuOption.optionName} == null">
                                                                        가격
                                                                    </div>
                                                                    <div class="col text-start fw-bold" th:if="${menuOption.optionName} != null" th:text="${menuOption.optionName}">
                                                                        가격
                                                                    </div>
                                                                    <div class="col-sm-3 text-end fw-bold" th:text="|${#numbers.formatInteger(menuOption.price, 0, 'COMMA')}원|">
                                                                        1,000원
                                                                    </div>
                                                                </div>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- 사이드메뉴 선택 -->
                                                <div class="card mt-3"  th:each="menuSubOptionCategory : ${menuSubOptionCategorise}" th:if="${menuSubOptionCategory.menu.id} == ${menu.id}">
                                                    <div class="card-body">
                                                        <h4 th:text="${menuSubOptionCategory.categoryName}">사이드메뉴 추가선택</h4>
                                                        <div class="form-check mt-3" th:each="menuSubOption : ${menuSubOptionCategory.menuSubOptions}">
                                                            <input class="form-check-input" type="checkbox" name="flexRadioDefault" id="sideMenu" th:id="|menuSubOption${menuSubOptionStat.index}|"
                                                                   th:field="*{menuSubOptionIds}" th:value="${menuSubOption.id}">
                                                            <label class="form-check-label w-100" for="sideMenu" th:for="|menuSubOption${menuSubOptionStat.index}|">
                                                                <div class="row">
                                                                    <div class="col" th:text="${menuSubOption.name}">
                                                                        side menu name
                                                                    </div>
                                                                    <div class="col-sm-3 text-end" th:text="|'+'${menuSubOption.price}원|">
                                                                        +1,000원
                                                                    </div>
                                                                </div>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- 수량 -->
                                                <div class="card mt-3">
                                                    <div class="card-body">
                                                        <h4>수량</h4>
                                                        <div class="mb-3">
                                                            <input type="number" th:field="*{count}" class="form-control" aria-label="count">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="submit" class="btn baemin-btn w-25">담기</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                                <!-- menu end -->
                            </th:block>
                        </div>
                    </div>
                </div>
                <div class="accordion" id="accordionPanelsStayOpenExample">
                    <!-- menu section start -->
                    <div class="accordion-item" th:each="category : ${categories}">
                        <div class="accordion-header" id="panelsStayOpen-headingOne">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                    th:data-bs-target="'#category'+ ${categoryStat.index}" aria-expanded="true" aria-controls="panelsStayOpen-collapseOne">
                                <h4 class="fw-bold" th:text="${category.name}">category</h4>
                                <h6 th:if="${category.content} != null" th:text="${category.content}">content</h6>
                            </button>
                        </div>
                        <div th:id="|category${categoryStat.index}|" class="accordion-collapse collapse show" aria-labelledby="panelsStayOpen-headingOne">
                            <div class="accordion-body">
                                <div class="row row-cols-1 row-cols-md-2 g-4">
                                    <!-- menu start -->
                                    <th:block th:each="menu : ${category.menus}">
                                    <div class="col">
                                        <div class="card" style="cursor: pointer" data-bs-toggle="modal" th:data-bs-target="'#menuDetail' + ${menu.id}">
                                            <div class="card-body">
                                                <div class="row h-100">
                                                    <div class="col position-relative">
                                                        <div>
                                                            <h5 class="card-title">
                                                                <span th:if="${menu.bestMenu}" class="badge rounded-pill text-bg-info me-1">인기</span>
                                                                <span th:text="${menu.mainTitle}">핫 황금올리브 핫크리스피</span>
                                                                <span class="align-top ms-1" th:if="${menu.alcohol}"><img src="/img/19.png" alt="sd" style="width: 20px; height: 20px;"></span>
                                                            </h5>
                                                            <h6 class="card-subtitle mb-2 text-muted" th:if="${menu.subTitle} != null" th:text="${menu.subTitle}"></h6>
                                                        </div>
                                                        <ul style="list-style: none; padding-left: 0;">
                                                            <li th:each="menuOption : ${menuOptions}" th:if="${menuOption.menu.id} == ${menu.id}">
                                                                <span th:if="${menuOption.optionName}!=null" th:text="${menuOption.optionName} + ':'"></span><span th:text="|${#numbers.formatInteger(menuOption.price, 0, 'COMMA')}원|"></span>
                                                            </li>
                                                        </ul>
                                                        <span th:if="${menu.representativeMenu}" class="badge text-bg-warning position-absolute bottom-0 start-0 ms-2">대표</span>
                                                    </div>
                                                    <div class="col-sm-3 align-self-center" th:if="${menu.uploadFile} != null">
                                                        <img src="https://via.placeholder.com/125x125" th:src="${menu.uploadFile.storeFileName}" alt="menu img" style="width: 125px; height: 125px;">
                                                    </div>
                                                    <div class="col-sm-3 align-self-center" th:if="${menu.uploadFile} == null">
                                                        <img src="/img/none.jpg" alt="menu img" style="width: 125px; height: 125px;">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Modal -->
                                    <div class="modal fade" th:id="'menuDetail' + ${menu.id}" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                                        <div class="modal-dialog modal-dialog-scrollable">
                                            <form class="modal-content" method="post" th:action="@{/stores/{storeId}/basket(storeId=${store.id})}" th:object="${basketAddForm}">
                                                <div class="modal-header">
                                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                </div>
                                                <div class="modal-body">
                                                    <th:block th:if="${menu.uploadFile} != null">
                                                        <img src="https://via.placeholder.com/500x250" th:src="${menu.uploadFile.storeFileName}" alt="menu img" class="w-100 h-25">
                                                    </th:block>
                                                    <div class="card mt-3">
                                                        <div class="card-body text-center">
                                                            <h4 th:text="${menu.mainTitle}">핫 황금올리브 핫크리스피</h4>
                                                            <h6 th:text="${menu.introduction}">핫 하고 빠삭한 핫빠 크리스피</h6>
                                                        </div>
                                                    </div>
                                                    <!-- 메인 선택 -->
                                                    <div class="card mt-3">
                                                        <div class="card-body">
                                                            <h4>가격</h4>
                                                            <div class="form-check mt-3"  th:each="menuOption : ${menuOptions}" th:if="${menuOption.menu.id} == ${menu.id}">
                                                                <input class="form-check-input" type="radio" name="flexRadioDefault" id="selectMain2" th:id="|${menu.id}selectMenuOption${menuOptionStat.index}|"
                                                                       th:field="*{menuOptionId}" th:value="${menuOption.id}">
                                                                <label class="form-check-label w-100" for="selectMain2" th:for="|${menu.id}selectMenuOption${menuOptionStat.index}|">
                                                                    <div class="row">
                                                                        <div class="col text-start fw-bold" th:if="${menuOption.optionName} == null">
                                                                            가격
                                                                        </div>
                                                                        <div class="col text-start fw-bold" th:if="${menuOption.optionName} != null" th:text="${menuOption.optionName}">
                                                                            가격
                                                                        </div>
                                                                        <div class="col-sm-3 text-end fw-bold" th:text="|${#numbers.formatInteger(menuOption.price, 0, 'COMMA')}원|">
                                                                            1,000원
                                                                        </div>
                                                                    </div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- 사이드메뉴 선택 -->
                                                    <div class="card mt-3"  th:each="menuSubOptionCategory : ${menuSubOptionCategorise}" th:if="${menuSubOptionCategory.menu.id} == ${menu.id}">
                                                        <div class="card-body">
                                                            <h4 th:text="${menuSubOptionCategory.categoryName}">사이드메뉴 추가선택</h4>
                                                            <div class="form-check mt-3" th:each="menuSubOption : ${menuSubOptionCategory.menuSubOptions}" th:if="${menuSubOption.category.id} == ${menuSubOptionCategory.id}">
                                                                <input class="form-check-input" type="checkbox" name="flexRadioDefault" id="sideMenu2" th:id="|menuSubOption${menuSubOptionStat.index}|"
                                                                       th:field="*{menuSubOptionIds}" th:value="${menuSubOption.id}">
                                                                <label class="form-check-label w-100" for="sideMenu2" th:for="|menuSubOption${menuSubOptionStat.index}|">
                                                                    <div class="row">
                                                                        <div class="col" th:text="${menuSubOption.name}">
                                                                            side menu name
                                                                        </div>
                                                                        <div class="col-sm-3 text-end" th:text="|+${menuSubOption.price}원|">
                                                                            +1,000원
                                                                        </div>
                                                                    </div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- 수량 -->
                                                    <div class="card mt-3">
                                                        <div class="card-body">
                                                            <h4>수량</h4>
                                                            <div class="mb-3">
                                                                <input type="number" th:field="*{count}" class="form-control" id="count" aria-label="count">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="submit" class="btn baemin-btn w-25">담기</button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                    <!-- menu end -->
                                    </th:block>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card mt-3">
                        <div class="card-body text-muted">
                            <p class="fw-bold">원산지 표기</p>
                            <p th:text="${store.countryOfPlace}"></p>
                        </div>
                    </div>
                    <div class="card mt-3">
                        <div class="card-body text-muted">
                            <p class="fw-bold">유의사항</p>
                            <ul>
                                <li>메뉴 사진은 연출된 이미지로 실제 조리된 음식과 다를 수 있습니다.</li>
                                <li>상단 메뉴 및 가격은 업소에서 제공한 정보를 기준으로 작성되었으며 변동될 수 있습니다.</li>
                                <li>(주)우아한형제들은 상품거래에 대한 통신판매중개자이며, 통신판매의 당사자가 아닙니다. 따라서, (주)우아한형제들은 상품·거래정보 및 거래에 대하여 책임을 지지 않습니다.</li>
                            </ul>
                        </div>
                    </div>
                    <!-- menu section end -->
                </div>
            </div>
            <!-- information tab -->
            <div class="tab-pane fade" id="nav-profile-menu" role="tabpanel" aria-labelledby="nav-profile-tab" tabindex="0">
                <div class="row row-cols-1 row-cols-md-2 g-4">
                    <div class="col">
                        <div class="card">
                            <div class="card-body">
                                <h5>영업정보</h5>
                                <table class="table table-sm table-borderless" th:object="${store}">
                                    <tbody>
                                    <tr>
                                        <td>상호명</td>
                                        <td th:text="*{tradeName}"></td>
                                    </tr>
                                    <tr>
                                        <td>운영시간</td>
                                        <td th:text="*{openTime}"></td>
                                    </tr>
                                    <tr>
                                        <td>휴무일</td>
                                        <td th:text="*{holiday}"></td>
                                    </tr>
                                    <tr>
                                        <td>전화번호</td>
                                        <td th:text="*{tel}"></td>
                                    </tr>
                                    <tr>
                                        <td>배달지역</td>
                                        <td th:text="*{deliveryArea}"></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100">
                            <div class="card-body">
                                <h5>
                                    <span>가게 통계</span>
                                    <span>
                                        <button type="button" class="btn btn-outline-dark btn-sm rounded-circle" data-bs-container="body" data-bs-toggle="popover" data-bs-placement="right"
                                                data-bs-content="최근 주문수, 전체 리뷰 수는 매일 새벽마다 업데이트됩니다.">?</button>
                                    </span>
                                </h5>
                                <table class="table table-sm table-borderless" th:object="${store}">
                                    <tbody>
                                    <tr>
                                        <td>최근 주문수</td>
                                        <td th:text="*{recentOrderCount}"></td>
                                    </tr>
                                    <tr>
                                        <td>전체 리뷰수</td>
                                        <td th:text="*{reviewCount}"></td>
                                    </tr>
                                    <tr>
                                        <td>찜</td>
                                        <td th:text="*{bookmarkCount}"></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card">
                            <div class="card-body">
                                <h5>배달팁 안내</h5>
                                <ul>
                                    <li>배달팁은 가게에서 책정한 금액입니다.</li>
                                    <li>배민은 배달팁 결제만 대행할 뿐, 금액은 가게로 전달됩니다.</li>
                                </ul>
                            </div>
                            <div class="card-body">
                                <h5>주문금액 별 배달팁</h5>
                                <table class="table table-bordered">
                                    <tbody class="table-group-divider">
                                    <tr th:each="deliveryTipByAmount : ${deliveryTipByAmounts}">
                                        <td th:if="${deliveryTipByAmount.maxAmount} == null"
                                            th:text="|${#numbers.formatInteger(deliveryTipByAmount.minAmount, 0, 'COMMA')}원 이상|">100,000원 이상</td>
                                        <td th:if="${deliveryTipByAmount.maxAmount} != null"
                                            th:text="|${#numbers.formatInteger(deliveryTipByAmount.minAmount, 0, 'COMMA')}원| +'~'+ |${#numbers.formatInteger(deliveryTipByAmount.maxAmount, 0, 'COMMA')}원 미만|">7,600원~14,000원 미만</td>
                                        <td class="text-end" th:text="|${#numbers.formatInteger(deliveryTipByAmount.deliveryTip, 0, 'COMMA')}원|">0원</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="card-body">
                                <h5>지역별 추가 배달팁</h5>
                                <table class="table table-bordered">
                                    <tbody class="table-group-divider">
                                    <tr th:each="deliveryTipByArea : ${deliveryTipByAreas}">
                                        <td th:text="${deliveryTipByArea.areaInfo}">십정1동, 십정2동</td>
                                        <td class="text-end"
                                            th:text="|+${#numbers.formatInteger(deliveryTipByArea.deliveryTip, 0, 'COMMA')}원|">+1,600원</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card h-100">
                            <div class="card-body">
                                <h5>사업자정보</h5>
                                <table class="table table-sm table-borderless" th:object="${store}">
                                    <tbody>
                                    <tr>
                                        <td>대표자명</td>
                                        <td th:text="*{representativeName}"></td>
                                    </tr>
                                    <tr>
                                        <td>상호명</td>
                                        <td th:text="*{tradeName}"></td>
                                    </tr>
                                    <tr>
                                        <td>사업자주소</td>
                                        <td th:text="*{businessAddress.mainAddress}"></td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td>위 주소는 사업자등록증에 표기된 정보입니다</td>
                                    </tr>
                                    <tr>
                                        <td>사업자등록번호</td>
                                        <td th:text="*{businessNumber}"></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card">
                            <div class="card-body">
                                <h5>안내 및 혜택</h5>
                                <p th:utext="${store.introduction}">안내사항</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="nav-contact-menu" role="tabpanel" aria-labelledby="nav-contact-tab" tabindex="0">
                <div class="card mt-3">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <h5>사장님 공지</h5>
                            <h6 class="text-muted" th:text="${#temporals.format(store.announcement.createdDate, 'yyyy년 MM월 dd일')}">2022년 05월 01일</h6>
                        </div>
                        <p th:utext="${store.announcement.content}">사장님 공지 내용</p>
                    </div>
                </div>
                <div class="card mt-3">
                    <div class="card-body">
                        <div class="row">
                            <div class="col align-self-center text-center">
                                <h1 th:text="${#numbers.formatDecimal(store.rating, 1, 1)}">4.9</h1>
                                <div class="col fs-2 align-self-center" th:object="${store}">
                                    <span>
                                        <svg th:if="*{rating == 0}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star text-warning" viewBox="0 0 16 16">
                                            <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                        </svg>
                                        <svg th:if="*{0 < rating and rating <= 0.5}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star-half text-warning" viewBox="0 0 16 16">
                                            <path d="M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z"/>
                                        </svg>
                                        <svg th:if="*{0.5 < rating}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star-fill text-warning" viewBox="0 0 16 16">
                                            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg>
                                    </span>
                                    <span>
                                        <svg th:if="*{rating <= 1}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star text-warning" viewBox="0 0 16 16">
                                            <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                        </svg>
                                        <svg th:if="*{1 < rating and rating <= 1.5}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star-half text-warning" viewBox="0 0 16 16">
                                            <path d="M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z"/>
                                        </svg>
                                        <svg th:if="*{1.5 < rating}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star-fill text-warning" viewBox="0 0 16 16">
                                            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg>
                                    </span>
                                    <span>
                                        <svg th:if="*{rating <= 2}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star text-warning" viewBox="0 0 16 16">
                                            <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                        </svg>
                                        <svg th:if="*{2 < rating and rating <= 2.5}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star-half text-warning" viewBox="0 0 16 16">
                                            <path d="M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z"/>
                                        </svg>
                                        <svg th:if="*{2.5 < rating}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star-fill text-warning" viewBox="0 0 16 16">
                                            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg>
                                    </span>
                                    <span>
                                        <svg th:if="*{rating <= 3}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star text-warning" viewBox="0 0 16 16">
                                            <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                        </svg>
                                        <svg th:if="*{3 < rating and rating <= 3.5}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star-half text-warning" viewBox="0 0 16 16">
                                            <path d="M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z"/>
                                        </svg>
                                        <svg th:if="*{3.5 < rating}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star-fill text-warning" viewBox="0 0 16 16">
                                            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg>
                                    </span>
                                    <span>
                                        <svg th:if="*{rating <= 4}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star text-warning" viewBox="0 0 16 16">
                                            <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                        </svg>
                                        <svg th:if="*{4 < rating and rating <= 4.5}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star-half text-warning" viewBox="0 0 16 16">
                                            <path d="M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z"/>
                                        </svg>
                                        <svg th:if="*{4.5 < rating}" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-star-fill text-warning" viewBox="0 0 16 16">
                                            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg>
                                    </span>
                                </div>
                            </div>
                            <div class="col">
                                <table class="table table-sm table-borderless">
                                    <tbody>
                                    <tr>
                                        <td class="fw-bold" style="width: 40px;">5점</td>
                                        <td class="align-middle">
                                            <div class="progress" style="height: 10px;">
                                                <div class="progress-bar bg-warning" role="progressbar" aria-label="Basic example"
                                                     th:style="|width: ${ratingPercent[5]}%|"
                                                     style="width: 99%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                        </td>
                                        <td class="text-muted" style="width: 40px;" th:text="|${#numbers.formatInteger(ratingData[5], 0, 'COMMA')}|">1,196</td>
                                    </tr>
                                    <tr>
                                        <td class="fw-bold">4점</td>
                                        <td class="align-middle">
                                            <div class="progress" style="height: 10px;">
                                                <div class="progress-bar bg-warning" role="progressbar" aria-label="Basic example"
                                                     th:style="|width: ${ratingPercent[4]}%|"
                                                     style="width: 1%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                        </td>
                                        <td class="text-muted" th:text="|${#numbers.formatInteger(ratingData[4], 0, 'COMMA')}|">21</td>
                                    </tr>
                                    <tr>
                                        <td class="fw-bold">3점</td>
                                        <td class="align-middle">
                                            <div class="progress" style="height: 10px;">
                                                <div class="progress-bar bg-warning" role="progressbar" aria-label="Basic example"
                                                     th:style="|width: ${ratingPercent[3]}%|"
                                                     style="width: 10%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                        </td>
                                        <td class="text-muted" th:text="|${#numbers.formatInteger(ratingData[3], 0, 'COMMA')}|">7</td>
                                    </tr>
                                    <tr>
                                        <td class="fw-bold">2점</td>
                                        <td class="align-middle">
                                            <div class="progress" style="height: 10px;">
                                                <div class="progress-bar bg-warning" role="progressbar" aria-label="Basic example"
                                                     th:style="|width: ${ratingPercent[2]}%|"
                                                     style="width: 10%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                        </td>
                                        <td class="text-muted" th:text="|${#numbers.formatInteger(ratingData[2], 0, 'COMMA')}|">4</td>
                                    </tr>
                                    <tr>
                                        <td class="fw-bold">1점</td>
                                        <td class="align-middle">
                                            <div class="progress" style="height: 10px;">
                                                <div class="progress-bar bg-warning" role="progressbar" aria-label="Basic example"
                                                     th:style="|width: ${ratingPercent[1]}%|"
                                                     style="width: 10%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                        </td>
                                        <td class="text-muted" th:text="|${#numbers.formatInteger(ratingData[1], 0, 'COMMA')}|">7</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card mt-3">
                    <div class="card-body">
                        <h5 th:text="|최근 리뷰 ${reviews.size()}|">최근 리뷰 9,999개</h5>
                        <h6 th:text="|사장님댓글 ${store.commentCount}개|">사장님댓글 9,999개</h6>
                        <div class="row">
                            <div class="col align-self-center">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="photo">
                                    <label class="form-check-label" for="photo">
                                        사진리뷰만
                                    </label>
                                </div>
                            </div>
                            <div class="col">
                                <ul class="nav justify-content-end">
                                    <li class="nav-item">
                                        <p class="nav-link text-dark fw-bold" id="recent" onclick="searchReview('recent')">최신순</p>
                                    </li>
                                    <li class="nav-item">
                                        <p class="nav-link text-muted" id="highRating" onclick="searchReview('highRating')">별점높은순</p>
                                    </li>
                                    <li class="nav-item">
                                        <p class="nav-link text-muted" id="lowRating" onclick="searchReview('lowRating')">별점낮은순</p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div id="review">
                            <!-- review -->
                            <h4 th:if="${reviews.size()} == 0" class="text-center">등록된 리뷰가 없습니다!</h4>
                            <div class="card mt-3" th:each="review : ${reviews}">
                                <div class="card-body">
                                    <!-- 작성자 정보 -->
                                    <div class="row">
                                        <div class="col">
                                            <div>
                                                <ul style="list-style: none; padding-left: 0;">
                                                    <li th:text="${review.member.nickname}">닉네임</li>
                                                    <li>
                                                        <span>
                                                            <svg th:if="${review.rating} == 0" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star" viewBox="0 0 16 16">
                                                                <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                                            </svg>
                                                            <svg th:if="1 <= ${review.rating}" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill text-warning" viewBox="0 0 16 16">
                                                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                                            </svg>
                                                        </span>
                                                        <span>
                                                            <svg th:if="${review.rating} <= 1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star" viewBox="0 0 16 16">
                                                                <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                                            </svg>
                                                            <svg th:if="2 <= ${review.rating}" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill text-warning" viewBox="0 0 16 16">
                                                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                                            </svg>
                                                        </span>
                                                        <span>
                                                            <svg th:if="${review.rating} <= 2" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star" viewBox="0 0 16 16">
                                                                <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                                            </svg>
                                                            <svg th:if="3 <= ${review.rating}" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill text-warning" viewBox="0 0 16 16">
                                                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                                            </svg>
                                                        </span>
                                                        <span>
                                                            <svg th:if="${review.rating} <= 3" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star" viewBox="0 0 16 16">
                                                                <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                                            </svg>
                                                            <svg th:if="4 <= ${review.rating}" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill text-warning" viewBox="0 0 16 16">
                                                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                                            </svg>
                                                        </span>
                                                        <span>
                                                            <svg th:if="${review.rating} <= 4" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star" viewBox="0 0 16 16">
                                                                <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                                            </svg>
                                                            <svg th:if="5 <= ${review.rating}" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill text-warning" viewBox="0 0 16 16">
                                                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                                            </svg>
                                                        </span>
                                                        <span th:text="${#temporals.format(review.lastModifiedDate, 'yyyy.MM.dd')}">0000.00.00</span>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="col d-grid gap-2 d-md-flex justify-content-md-end h-25">
                                            <button type="button" class="btn btn-outline-danger" onclick="beforeService()">신고하기</button>
                                        </div>
                                    </div>
                                    <!-- 주문 메뉴 -->
                                    <!--                                <div class="row mb-3">-->
                                    <!--                                    <div class="col">-->
                                    <!--                                        핫 황금올리브 핫크리스피-->
                                    <!--                                    </div>-->
                                    <!--                                </div>-->
                                    <!-- 리뷰 사진 -->
                                    <div class="row mb-3 ms-1" th:if="${review.uploadFile} != null">
                                        <div class="col img-wrapper">
                                            <img src="https://via.placeholder.com/100x100" th:src="${review.uploadFile.storeFileName}" alt="review img" style="width: 100px; height: 100px;">
                                        </div>
                                    </div>
                                    <!-- 리뷰글 -->
                                    <div class="row">
                                        <div class="col">
                                            <p th:text="${review.content}">
                                                Lorem Ipsum is simply dummy text of the printing and typesetting industry.
                                                Lorem Ipsum has been the industry's standard dummy text ever since the 1500s,
                                                when an unknown printer took a galley of type and scrambled it to make a type specimen book.
                                                It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.
                                                It was popularised in the 1r960s with the release of Letraset sheets containing Lorem Ipsum passages,
                                                and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- menu information end -->
    </div>
</article>
<!-- 배달팁 자세히 -->
<section>
    <div class="modal fade" id="deliveryTipModal" tabindex="-1" aria-labelledby="deliveryTipModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body">
                    <h5>배달팁 안내</h5>
                    <ul>
                        <li>배달팁은 가게에서 책정한 금액입니다.</li>
                        <li>배민은 배달팁 결제만 대행할 뿐, 금액은 가게로 전달됩니다.</li>
                    </ul>
                    <table class="table table-sm table-borderless border-top">
                        <thead>
                        <tr>
                            <th scope="col">주문금액</th>
                            <th scope="col" class="text-end">배달팁</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                        <tr th:each="deliveryTipByAmount : ${deliveryTipByAmounts}">
                            <td th:if="${deliveryTipByAmount.maxAmount} == null"
                                th:text="|${#numbers.formatInteger(deliveryTipByAmount.minAmount, 0, 'COMMA')}원 이상|">100,000원 이상</td>
                            <td th:if="${deliveryTipByAmount.maxAmount} != null"
                                th:text="|${#numbers.formatInteger(deliveryTipByAmount.minAmount, 0, 'COMMA')}원| +'~'+ |${#numbers.formatInteger(deliveryTipByAmount.maxAmount, 0, 'COMMA')}원 미만|">7,600원~14,000원 미만</td>
                            <td class="text-end" th:text="|${#numbers.formatInteger(deliveryTipByAmount.deliveryTip, 0, 'COMMA')}원|">0원</td>
                        </tr>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-light w-100" data-bs-dismiss="modal">확인</button>
                </div>
            </div>
        </div>
    </div>
</section>

<footer th:replace="fragments/footer::footer"></footer>
<script th:inline="javascript">
    $(document).ready(function () {
        const tel = [[${store.tel}]]
        $('#button-tel').click(function () {
            alert('매장 번호: ' + tel);
        });
    });

    $('#photo').change(function () {
        if ($('#photo').is(':checked')) {
            searchReview("recent")
        } else {
            searchReview("recent")
        }
    })

    $('#recent').click(function () {
        $('#recent').removeClass("text-muted");
        $("#recent").addClass("text-dark fw-bold");
        $('#highRating').removeClass("text-dark fw-bold");
        $("#highRating").addClass("text-muted");
        $('#lowRating').removeClass("text-dark fw-bold");
        $("#lowRating").addClass("text-muted");
    });

    $('#highRating').click(function () {
        $('#highRating').removeClass("text-muted");
        $("#highRating").addClass("text-dark fw-bold");
        $('#recent').removeClass("text-dark fw-bold");
        $("#recent").addClass("text-muted");
        $('#lowRating').removeClass("text-dark fw-bold");
        $("#lowRating").addClass("text-muted");
    });

    $('#lowRating').click(function () {
        $('#lowRating').removeClass("text-muted");
        $("#lowRating").addClass("text-dark fw-bold");
        $('#highRating').removeClass("text-dark fw-bold");
        $("#highRating").addClass("text-muted");
        $('#recent').removeClass("text-dark fw-bold");
        $("#recent").addClass("text-muted");
    });

    function addBookmark(id) {
        const form = document.createElement("form");
        form.setAttribute("method", "post");
        form.setAttribute("action", "/stores/" + id + "/bookmark");
        document.body.appendChild(form);
        form.submit();
    }

    const popoverTriggerList = document.querySelectorAll('[data-bs-toggle="popover"]')
    const popoverList = [...popoverTriggerList].map(popoverTriggerEl => new bootstrap.Popover(popoverTriggerEl))

    function searchReview(type) {
        const storeId = [[${store.id}]];
        let photo = false;

        if ($("#photo").is(":checked")) {
            photo = true;
        }

        const reviewSearch = {
            "storeId": storeId,
            "photo": photo,
            "type": type
        };

        $.ajax({
            url: "/stores/review",
            data: reviewSearch,
            type: "GET",
            cache: false,
            success: function (fragment) {
                $('#review').replaceWith(fragment);
            }
        });
    }
</script>
</body>
</html>